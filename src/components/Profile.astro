---
//Profile component
import { Image } from "astro:assets";
import MexicoFlag from "../assets/bandera-de-mexico.png";
import imgLogo from "../assets/developerv_aldo.jpg";
---

<!-- Sección de perfil -->
<div
  class="bg-white dark:bg-gray-800 shadow-lg rounded-lg mt-[-5rem] w-11/12 max-w-3xl p-5 flex flex-col items-center transition-all duration-500 ease-in-out transform hover:scale-105"
>
  <!-- Contenido... -->

  <!-- Imagen de perfil -->
  <!-- <img
    src={imgLogo.src}
    alt="Foto de perfil"
    class="w-32 h-32 rounded-full border-4 border-white dark:border-gray-800 object-cover shadow-md"
  /> -->
  <Image
    src={imgLogo}
    alt="Foto de perfil"
    class="w-32 h-32 rounded-full border-4 border-white dark:border-gray-800 object-cover shadow-md"
  />

  <!-- Nombre y descripción -->
  <h2 class="text-xl font-bold mt-3">Osvaldo Villalba Mendoza</h2>
  <p id="role" class="text-gray-600 dark:text-gray-400 text-center mt-2">
    Desarrollador <span id="changing-word">web</span> y entusiasta del código creativo.
    🚀
  </p>

  <!-- Información adicional -->
  <div class="flex flex-col md:flex-row items-center mt-4">
    <div class="flex items-center mb-2 md:mb-0 md:mr-4">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="icon icon-tabler icons-tabler-outline icon-tabler-briefcase"
        ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
          d="M3 7m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"
        ></path><path d="M8 7v-2a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v2"></path><path
          d="M12 12l0 .01"></path><path d="M3 13a20 20 0 0 0 18 0"></path></svg
      >
      <!-- Disponible -->
      <!-- <span class="text-green-500">Disponible</span> -->
      <!-- Trabajando  -->
      <span class="text-blue-500"> Desarrollando...</span>
    </div>
    <div class="flex items-center mb-2 md:mb-0 md:mr-4">
      <a
        href="#"
        id="openModal"
        class="flex items-center text-pink-500 mb-2 md:mb-0 md:mr-4"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="icon icon-tabler icons-tabler-outline icon-tabler-link mr-2"
        >
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M9 15l6 -6"></path>
          <path d="M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464"></path>
          <path
            d="M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463"
          ></path>
        </svg>
        /links
      </a>
    </div>

    <div class="flex items-center mb-2 md:mb-0 md:mr-4">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="icon icon-tabler icons-tabler-outline icon-tabler-cake"
        ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
          d="M3 20h18v-8a3 3 0 0 0 -3 -3h-12a3 3 0 0 0 -3 3v8z"></path><path
          d="M3 14.803c.312 .135 .654 .204 1 .197a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1c.35 .007 .692 -.062 1 -.197"
        ></path><path d="M12 4l1.465 1.638a2 2 0 1 1 -3.015 .099l1.55 -1.737z"
        ></path></svg
      >
      <span class="text-gray-600 dark:text-gray-400"> Agosto 19</span>
    </div>
    <div class="flex items-center">
      <img src={MexicoFlag.src} alt="México" class="w-5 h-5 mr-2" />
      <span class="text-gray-600 dark:text-gray-400">México</span>
    </div>
  </div>
</div>

<script>
  const words = ["web", "backend", "móvil"];
  let index = 0;
  const changingWordElement = document.getElementById("changing-word");

  const typeWord = (word: string, callback: () => void) => {
    let i = 0;
    const interval = setInterval(() => {
      if (changingWordElement) {
        if (changingWordElement) {
          if (changingWordElement) {
            changingWordElement.textContent = word.slice(0, i);
          }
        }
      }
      i++;
      if (i > word.length) {
        clearInterval(interval);
        setTimeout(callback, 1000); // Espera 1 segundo antes de borrar
      }
    }, 100);
  };

  const deleteWord = (callback: () => void) => {
    let word = changingWordElement ? changingWordElement.textContent : "";
    let i = word ? word.length : 0;
    const interval = setInterval(() => {
      if (changingWordElement && word) {
        changingWordElement.textContent = word.slice(0, i);
      }
      i--;
      if (i < 0) {
        clearInterval(interval);
        callback();
      }
    }, 100);
  };

  const cycleWords = () => {
    deleteWord(() => {
      index = (index + 1) % words.length;
      typeWord(words[index], cycleWords);
    });
  };

  typeWord(words[index], cycleWords);
</script>
